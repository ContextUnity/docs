---
title: ContextWorker
description: Temporal Worker Infrastructure for ContextUnity
template: splash
hero:
  tagline: Background job processing and automation for the ContextUnity ecosystem. Powered by Temporal for reliable workflow orchestration.
  image:
    file: ../../assets/worker-image.jpg
    alt: ContextWorker - The Automation Layer
  actions:
    - text: Get Started
      link: /getting-started/
      icon: right-arrow
      variant: primary
    - text: View on GitHub
      link: https://github.com/ContextUnity/contextworker
      icon: external
---

import { Card, CardGrid, LinkCard } from '@astrojs/starlight/components';

<CardGrid>
  <Card title="Temporal Workflows" icon="rocket">
    Reliable workflow orchestration with Temporal. Automatic retries, timeouts, and state management for complex job pipelines.
  </Card>
  <Card title="Module Discovery" icon="puzzle">
    Automatically discovers modules from installed packages. Business logic lives in Commerce, Worker just orchestrates.
  </Card>
  <Card title="Django ORM Support" icon="database">
    Modules in Commerce use Django ORM directly. No SQL duplication, full model access.
  </Card>
  <Card title="Scalable" icon="approve-check">
    Run multiple worker replicas independently from Django. Scale background processing separately.
  </Card>
</CardGrid>

## Architecture

```
┌──────────────────────────────────────────────────────────────┐
│                    ContextCommerce                            │
│                                                               │
│  modules/                                                     │
│    harvester/   → Vendor data import                          │
│    gardener/    → Product enrichment (Router graphs)          │
│    sync/        → Channel sync (Horoshop, Prom)               │
│                                                               │
└──────────────────────────────────────────────────────────────┘
                            │
                            │ depends on
                            ▼
┌──────────────────────────────────────────────────────────────┐
│                    ContextWorker                              │
│                                                               │
│  core/                                                        │
│    registry.py  → Module discovery                            │
│    worker.py    → Temporal worker factory                     │
│                                                               │
│  schedules.py   → Temporal schedule management                │
│  __main__.py    → CLI entry point                             │
│                                                               │
└──────────────────────────────────────────────────────────────┘
```

Worker is **pure infrastructure**. All business logic lives in Commerce modules.

## Quick Start

```bash
# Install Commerce (includes Worker)
pip install contextcommerce

# Run workers (discovers modules automatically)
python -m contextworker

# Create schedules
python -m contextworker.schedules create --tenant-id myproject
```

## Quick Links

<CardGrid>
  <LinkCard title="Installation" href="/getting-started/installation/" description="Get ContextWorker running." />
  <LinkCard title="Harvester" href="/guides/harvester/" description="Vendor data import workflows." />
  <LinkCard title="Gardener" href="/guides/gardener/" description="Product taxonomy classification." />
  <LinkCard title="Schedules" href="/guides/schedules/" description="Manage Temporal schedules." />
</CardGrid>

## Commerce Modules

### Harvester Module

Automated inventory aggregation from 15+ outdoor gear suppliers:

- **Fetchers** — HTTP, Email, and API-based data fetching
- **Transformers** — XLSX, CSV, and YAML data normalization
- **Django ORM** — Direct access to Commerce models

### Gardener Module

Product enrichment via Router graphs:

- **Taxonomy** — AI classification into category tree
- **NER** — Named entity recognition (brands, materials)
- **Knowledge Graph** — Product relationships

### Sync Module

Channel synchronization:

- **Horoshop** — Ukrainian e-commerce platform
- **Prom.ua** — Marketplace (planned)
- **Rozetka** — Marketplace (planned)

## Docker Compose

```yaml
services:
  django:
    image: commerce:latest
    command: python manage.py runserver 0.0.0.0:8000
    
  worker:
    image: commerce:latest  # Same image!
    command: python -m contextworker
    deploy:
      replicas: 3  # Scale workers independently
      
  temporal:
    image: temporalio/auto-setup:latest
```

---

## Configuration

```bash
# Temporal
TEMPORAL_HOST=localhost:7233

# Database (Django)
DATABASE_URL=postgresql://user:pass@localhost/commerce

# Tenant
TENANT_ID=myproject
```
